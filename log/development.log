# Logfile created on Sun Nov 21 15:13:46 -0800 2010

Processing PostsController#index (for 127.0.0.1 at 2010-11-21 15:17:59) [GET]
  Parameters: {"group_id"=>"1"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mGroup Load (1.0ms)[0m   [0mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/posts
Rendering posts/index
  [4;35;1mGroup Load (1.0ms)[0m   [0mSELECT "groups".* FROM "groups" INNER JOIN "memberships" ON "groups".id = "memberships".group_id WHERE (("memberships".user_id = 2)) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM "posts" WHERE ("posts".group_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
Rendered posts/_post (3.0ms)
Completed in 162ms (View: 89, DB: 2) | 200 OK [http://localhost/groups/1/posts]


Processing PostsController#show (for 127.0.0.1 at 2010-11-21 15:18:02) [GET]
  Parameters: {"group_id"=>"1", "id"=>"2"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mGroup Load (1.0ms)[0m   [0mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM "posts" WHERE ("posts"."id" = 2 AND ("posts".group_id = 1)) [0m
Rendering template within layouts/posts
Rendering posts/show
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT "groups".* FROM "groups" INNER JOIN "memberships" ON "groups".id = "memberships".group_id WHERE (("memberships".user_id = 2)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
Rendered posts/_post (5.0ms)
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".post_id = 2) [0m

ActionView::TemplateError (undefined method `user_id' for #<Comment:0x9238a10>) on line #4 of app/views/comments/_comment.html.erb:
1: <% div_for comment do %>
2: 	<p>
3: 		<strong>Posted <%= time_ago_in_words(comment.created_at) %> ago </strong><br />
4: 		<strong>By <%= h(User.find_by_id(comment.user_id).name) %></strong><br />
5: 		<%= h(comment.body) %><br />
6: 		<% if @post.user_id == session[:user_id]%>
7: 		<%= link_to 'Destroy', [comment.post, comment], :method => :delete, :confirm => "Are you sure?" %>

    app/views/comments/_comment.html.erb:4
    app/views/comments/_comment.html.erb:1
    app/views/posts/show.html.erb:15
    app/controllers/posts_controller.rb:22:in `show'
    C:/Ruby187/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby187/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (148.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing PostsController#show (for 127.0.0.1 at 2010-11-21 15:19:19) [GET]
  Parameters: {"group_id"=>"1", "id"=>"2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mGroup Load (1.0ms)[0m   [0;1mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mPost Load (1.0ms)[0m   [0;1mSELECT * FROM "posts" WHERE ("posts"."id" = 2 AND ("posts".group_id = 1)) [0m
Rendering template within layouts/posts
Rendering posts/show
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT "groups".* FROM "groups" INNER JOIN "memberships" ON "groups".id = "memberships".group_id WHERE (("memberships".user_id = 2)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
Rendered posts/_post (3.0ms)
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".post_id = 2) [0m

ActionView::TemplateError (undefined method `user_id' for #<Comment:0x916d3d0>) on line #4 of app/views/comments/_comment.html.erb:
1: <% div_for comment do %>
2: 	<p>
3: 		<strong>Posted <%= time_ago_in_words(comment.created_at) %> ago </strong><br />
4: 		<strong>By <%= h(User.find_by_id(comment.user_id).name) %></strong><br />
5: 		<%= h(comment.body) %><br />
6: 		<% if @post.user_id == session[:user_id]%>
7: 		<%= link_to 'Destroy', [comment.post, comment], :method => :delete, :confirm => "Are you sure?" %>

    app/views/comments/_comment.html.erb:4
    app/views/comments/_comment.html.erb:1
    app/views/posts/show.html.erb:15
    app/controllers/posts_controller.rb:22:in `show'
    C:/Ruby187/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby187/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby187/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PostsController#new (for 127.0.0.1 at 2010-11-21 15:19:30) [GET]
  Parameters: {"group_id"=>"1"}
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/posts
Rendering posts/new
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT "groups".* FROM "groups" INNER JOIN "memberships" ON "groups".id = "memberships".group_id WHERE (("memberships".user_id = 2)) [0m
Completed in 48ms (View: 21, DB: 0) | 200 OK [http://localhost/groups/1/posts/new]


Processing PostsController#create (for 127.0.0.1 at 2010-11-21 15:19:39) [POST]
  Parameters: {"commit"=>"Create", "post"=>{"body"=>"asdfas", "title"=>"asdfa"}, "authenticity_token"=>"OT7YqPk0s3X4mu11xDGwkanjmMepALfgPWCn/27BJXk=", "group_id"=>"1"}
  [4;35;1mGroup Load (1.0ms)[0m   [0mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPost Create (1.0ms)[0m   [0mINSERT INTO "posts" ("created_at", "title", "body", "updated_at", "group_id", "user_id", "user") VALUES('2010-11-21 23:19:39', 'asdfa', 'asdfas', '2010-11-21 23:19:39', 1, 2, 'gzhu')[0m
  [4;36;1mNewsfeed Create (2.0ms)[0m   [0;1mINSERT INTO "newsfeeds" ("descriptions", "created_at", "updated_at", "time", "group_id") VALUES('Post 3 created', '2010-11-21 23:19:39', '2010-11-21 23:19:39', '2010-11-21 23:19:39', 1)[0m
Redirected to http://localhost:3000/groups/1/posts/3
Completed in 358ms (DB: 4) | 302 Found [http://localhost/groups/1/posts]


Processing PostsController#show (for 127.0.0.1 at 2010-11-21 15:19:39) [GET]
  Parameters: {"group_id"=>"1", "id"=>"3"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mPost Load (1.0ms)[0m   [0;1mSELECT * FROM "posts" WHERE ("posts"."id" = 3 AND ("posts".group_id = 1)) [0m
Rendering template within layouts/posts
Rendering posts/show
  [4;35;1mGroup Load (1.0ms)[0m   [0mSELECT "groups".* FROM "groups" INNER JOIN "memberships" ON "groups".id = "memberships".group_id WHERE (("memberships".user_id = 2)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "groups" WHERE ("groups"."id" = 1) [0m
Rendered posts/_post (5.0ms)
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".post_id = 3) [0m
Completed in 76ms (View: 37, DB: 3) | 200 OK [http://localhost/groups/1/posts/3]


Processing CommentsController#create (for 127.0.0.1 at 2010-11-21 15:19:42) [POST]
  Parameters: {"comment"=>{"body"=>"asdfa"}, "commit"=>"Add Comment", "post_id"=>"3", "authenticity_token"=>"OT7YqPk0s3X4mu11xDGwkanjmMepALfgPWCn/27BJXk="}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM "posts" WHERE ("posts"."id" = 3) [0m
  [4;36;1mComment Create (1.0ms)[0m   [0;1mINSERT INTO "comments" ("created_at", "body", "updated_at", "post_id") VALUES('2010-11-21 23:19:42', 'asdfa', '2010-11-21 23:19:42', 3)[0m

NoMethodError (undefined method `user_id=' for #<Comment:0x918f870>):
  app/controllers/comments_controller.rb:58:in `create'
  C:/Ruby187/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby187/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby187/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20101022014901)
Migrating to CreateGroups (20101022055643)
Migrating to CreateUserlists (20101022060356)
Migrating to CreatePermissions (20101022060532)
Migrating to CreateChats (20101101005126)
Migrating to CreatePosts (20101101014053)
Migrating to CreateComments (20101101015844)
Migrating to CreateUploads (20101101075939)
Migrating to AddAttachmentsFileToUpload (20101101080046)
Migrating to CreateTodos (20101101200150)
Migrating to AddGroupIdToUpload (20101106020926)
Migrating to AddGroupIdToTodo (20101106041329)
Migrating to CreateMemberships (20101110234740)
Migrating to AddGroupIdToPost (20101111072209)
Migrating to CreateConversations (20101116210731)
Migrating to CreateNewsfeeds (20101121060326)
Migrating to CreateCalendars (20101121061120)
Migrating to AddGroupIdToNewsfeed (20101121062213)
Migrating to AddUserIdToPost (20101121070214)
Migrating to AddPermissionToMembership (20101121221703)
Migrating to AddUserIdToComment (20101121231349)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "comments" ADD "user_id" integer[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101121231349')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("calendars")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("chats")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("conversations")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("groups")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("memberships")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("newsfeeds")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("permissions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("posts")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("todos")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("uploads")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("userlists")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
